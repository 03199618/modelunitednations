#map{ style:'height: 400px; margin-left:-30px; margin-right: -30px; '}

.row
  = form_tag conferences_path, :method => :get, class:"form-search", style: "margin-top:-225px;", id:"search" do
    .col-md-6.col-md-offset-3.input-group.input-group-lg.margin-top-20
      = text_field_tag :search, params[:search], :placeholder => "Conference, Location", :class => "form-control", data: {"pre" =>  Conference.all.map(&:name).to_json }
      .input-group-btn
        = submit_tag "Search", class: "btn btn-success btn-lg", type:"submit"


.row

  %h1.page-header
    Conferences
.row
  - @conferences.each do |conference|
    .col-lg-4
    .panel.panel-default
      .panel-heading
        = conference.name
      .panel-body
        = conference.description
      .panel-footer
        = link_to "Go to #{conference.name}", conference_path(conference)
        ,
        = link_to "Register at #{conference.name}", new_group_registration_path(conference_id: conference.id)
:javascript
  /*markers = handler.addMarkers(#{raw @hash.to_json });
  handler = Gmaps.build('Google');
  handler.buildMap({
      provider: {
        disableDefaultUI: true
        // pass in other Google Maps API options here
      },
      internal: {
        id: 'map'
      }
    },
    function(){
      markers = handler.addMarkers([
        {
          "lat": 0,
          "lng": 0,
          "picture": {
            "url": "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
            "width":  36,
            "height": 36
          },
          "infowindow": "hello!"
        }
      ]);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
    }
  );    */
  //Google Map Skin - Get more at http://snazzymaps.com/
  var myOptions = {
      zoom: 15,
      center: new google.maps.LatLng(53.385873, -1.471471),
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      disableDefaultUI: true,
      styles: [{"featureType":"water","stylers":[{"visibility":"on"},{"color":"#acbcc9"}]},{"featureType":"landscape","stylers":[{"color":"#f2e5d4"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#c5c6c6"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#e4d7c6"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#fbfaf7"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#c5dac6"}]},{"featureType":"administrative","stylers":[{"visibility":"on"},{"lightness":33}]},{"featureType":"road"},{"featureType":"poi.park","elementType":"labels","stylers":[{"visibility":"on"},{"lightness":20}]},{},{"featureType":"road","stylers":[{"lightness":20}]}]
  };

  var map = new google.maps.Map(document.getElementById('map'), myOptions);
  //map.addMarkers(#{raw @hash.to_json });

  /*$(function() {
    $("#search").tokenInput(".json", {
      crossDomain: false,
      prePopulate: $("#search").data("pre"),
      theme: "mac"
    });
  });*/